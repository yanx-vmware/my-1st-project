name: pipeline when there is a push on test-branchA

on:
  push:
    branches: [ "test-branchA" ]

permissions:
  contents: read

jobs:
  push-jobA:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Run Job A
        run: |
          echo "run jobA on push"

  push-jobB:
    uses: ./.github/workflows/test-dependency-pipeline.yml

  push-jobC:
    runs-on: ubuntu-latest
    needs: push-jobB
    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: Run Job C
        run: |
          echo ${{ needs.push-jobB.outputs.firstword }} ${{ needs.push-jobB.outputs.secondword }}

    